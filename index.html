<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DIX</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>DIX</h1>
  <div id="folderContainer">
    <select id="folderSelect"></select>
    <button id="addFolder">‚ûï</button>
    <button id="editFolder">‚úèÔ∏è</button>
    <button id="deleteFolder">üóëÔ∏è</button>
  </div>
  <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫...">
</header>

<main id="notesContainer"></main>

<button id="addPost">+</button>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–µ–º—ã -->
<div id="themeModal" class="hidden">
  <div class="modal">
    <div class="modal-header">
      <span>–í–≤–µ–¥–∏—Ç–µ —Ç–µ–º—É –∑–∞–º–µ—Ç–∫–∏</span>
      <button id="closeThemeModal">&times;</button>
    </div>
    <div class="modal-body">
      <input type="text" id="noteTopic" placeholder="–¢–µ–º–∞ –∑–∞–º–µ—Ç–∫–∏">
      <select id="noteFolder"></select>
    </div>
    <div class="modal-footer">
      <button id="confirmTopic">–î–∞–ª–µ–µ</button>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–µ–∫—Å—Ç–∞/–º–µ–¥–∏–∞ -->
<div id="modalOverlay" class="hidden">
  <div class="modal">
    <div class="modal-header">
      <span id="modalDate"></span>
      <button id="closeModal">&times;</button>
    </div>
    <div class="modal-body">
      <textarea id="noteText" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –∑–∞–º–µ—Ç–∫—É..."></textarea>
    </div>
    <div class="modal-footer">
      <button id="addLink">üîó</button>
      <input type="file" id="fileInput" accept="image/*,video/*,.pdf" hidden>
      <button id="addMedia">üì∑</button>
      <button id="saveNote">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏ -->
<div id="note-modal" style="display:none">
    <h2>–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞</h2>
    <form id="note-form">
        <input type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏" required />
        <textarea placeholder="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏"></textarea>
        <button type="submit">–°–æ–∑–¥–∞—Ç—å</button>
        <span class="close">√ó</span>
    </form>
</div>

<!-- –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ -->
<div id="notes-list"></div>

<script src="app.js"></script>

<script>
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
    document.getElementById('note-form').addEventListener('submit', function(event) {
        event.preventDefault();

        const title = this.elements[0].value.trim(); // –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
        const content = this.elements[1].value.trim(); // –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–º–µ—Ç–∫–∏

        if (!title || !content) return; // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª–µ–π

        saveNote(title, content); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–º–µ—Ç–∫—É
        displayNotes(); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫
        clearForm(); // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
        closeModal(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    });

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏
    function saveNote(title, content) {
        let notes = JSON.parse(localStorage.getItem('notes')) || [];
        notes.push({ title, content });
        localStorage.setItem('notes', JSON.stringify(notes));
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫
    function displayNotes() {
        const notesList = document.getElementById('notes-list');
        notesList.innerHTML = '';

        const notes = JSON.parse(localStorage.getItem('notes')) || [];
        notes.forEach(note => {
            const noteDiv = document.createElement('div');
            noteDiv.className = 'note-item';
            noteDiv.textContent = `${note.title}: ${note.content}`;
            notesList.appendChild(noteDiv);
        });
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ñ–æ—Ä–º—ã
    function clearForm() {
        document.getElementById('note-form').reset();
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function closeModal() {
        document.getElementById('note-modal').style.display = 'none';
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.addEventListener('load', () => {
        displayNotes();
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    document.querySelector('.open-modal').addEventListener('click', function() {
        document.getElementById('note-modal').style.display = 'block';
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    document.querySelector('.close').addEventListener('click', function() {
        document.getElementById('note-modal').style.display = 'none';
    });
</script>

</body>
</html>
